{"version":3,"file":"ReviewPreview.f1c82fb0.js","sources":["../../src/component/review-preview/ReviewPreview.tsx"],"sourcesContent":["import { ChipList, Icon } from \"@jam-dev/starlight-react\";\nimport { useState } from \"react\";\nimport closeIcon from \"../../asset/icon/close.svg\";\nimport reviewIcon from \"../../asset/icon/message.svg\";\nimport { StarRating } from \"../star-rating/StarRating\";\nimport { Vote } from \"../vote/Vote\";\nimport \"./ReviewPreview.css\";\n\nexport interface ReviewPreviewProps {\n  date: string;\n  title: string;\n  location: string;\n  time: string;\n  rating: number;\n  body: string;\n  upvotes: number;\n  downvotes: number;\n  profileId: string;\n  reviewId: string;\n  reviewVote: number;\n  onUserVote?: (reviewId: string, profileId: string, vote: number) => void;\n}\n\nexport const ReviewPreview = (props: ReviewPreviewProps) => {\n  const {\n    date,\n    title,\n    location,\n    time,\n    rating,\n    body,\n    upvotes,\n    profileId,\n    reviewId,\n    reviewVote,\n    onUserVote,\n  } = { ...props };\n\n  let [helpful, setHelpful] = useState(upvotes);\n\n  return (\n    <div className=\"rclib-review-preview\">\n      <Icon\n        alt=\"Review icon\"\n        className=\"rclib-review-preview-icon\"\n        src={reviewIcon}\n        width=\"32px\"\n      />\n      <div className=\"rclib-review-preview-content\">\n        <div className=\"rclib-review-preview-header\">\n          <h2>{title}</h2>\n          <StarRating\n            display={true}\n            rating={rating}\n            numStars={5}\n            precision={-1}\n          />\n        </div>\n        <p>\n          {location} on {date} at {time}\n        </p>\n\n        <div className=\"rclib-review-preview-body\">\n          <p>{body}</p>\n        </div>\n\n        {onUserVote != undefined ? (\n          <div className=\"rclib-review-voting\">\n            <p>{helpful} people found this helpful</p>\n            <Vote\n              onVote={(oldVote, voteClick) => {\n                if (oldVote == voteClick) {\n                  onUserVote(reviewId, profileId, 0);\n                } else {\n                  onUserVote(reviewId, profileId, voteClick);\n                }\n                if (voteClick == 1 && oldVote != 1) {\n                  setHelpful(helpful + 1);\n                } else if (oldVote == 1) {\n                  setHelpful(helpful - 1);\n                }\n              }}\n              reviewVote={reviewVote}\n            />\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n"],"names":["ReviewPreview","__name","props","date","title","location","time","rating","body","upvotes","profileId","reviewId","reviewVote","onUserVote","helpful","setHelpful","useState","_jsxs","_jsx","Icon","reviewIcon","Vote","oldVote","voteClick"],"mappings":"2TAuBO,MAAAA,EAAAC,EAAAC,GAAA,CACL,KAAA,CAAM,KAAAC,EACJA,MAAAA,EACAC,SAAAA,EACAC,KAAAA,EACAC,OAAAA,EACAC,KAAAA,EACAC,QAAAA,EACAC,UAAAA,EACAC,SAAAA,EACAC,WAAAA,EACAC,WAAAA,CACAC,EAAAA,CACE,GAAAX,CAAKA,EAET,GAAA,CAAAY,EAAAC,CAAA,EAAAC,EAAA,QAAA,SAAAP,CAAA,EAEA,OAAAQ,EAAA,MAAA,CACE,UAAA,uBAAe,SAAA,CAAAC,EAAAC,EAAA,CACR,IAAA,cACC,UAAA,4BACM,IAAAC,EACLA,MAAAA,MACC,CAAA,EAAAH,EAAA,MAAA,CAER,UAAA,+BAAe,SAAA,CAAAA,EAAA,MAAA,CACb,UAAA,8BAAe,SAAA,CAAAC,EAAA,KAAA,CACb,SAAAd,CAAKA,CAAAA,EAAAA,EAAAA,EAAAA,CACM,QAAA,GACA,OAAAG,EACT,SAAA,EACU,UAAA,EACC,CAAA,CAAA,CACX,CAAA,EAAAU,EAAA,IAAA,CAEJ,SAAA,CAAAZ,EAAA,OAAAF,EAAA,OAAAG,CAAA,CAC+B,CAAA,EAAAY,EAAA,MAAA,CAG/B,UAAA,4BAAe,SAAAA,EAAA,IAAA,CACb,SAAAV,CAAIA,CAAAA,CAAI,CAAA,EAAAK,GAAA,KAAAI,EAAA,MAAA,CAIR,UAAA,sBAAe,SAAA,CAAAA,EAAA,IAAA,CACb,SAAA,CAAAH,EAAA,4BAAA,CAAW,CAAA,EAAAI,EAAAG,EAAA,CACN,OAAA,CAAAC,EAAAC,IAAA,CAEDD,GAAAC,EACEV,EAAAA,EAAAA,EAAAA,CAAAA,EAEAA,EAAAA,EAAAA,EAAAA,CAAAA,EAEFU,GAAA,GAAAD,GAAA,EACEP,EAAAA,EAAAA,CAAAA,EAAsBO,GAAA,GAEtBP,EAAAA,EAAAA,CAAAA,CACF,EACF,WAAAH,CACA,CAAA,CAAA,CACA,CAAA,EAAA,IAAA,CAEE,CAAA,CAAA,CACJ,CAAA,CAGZ,EAlEO"}