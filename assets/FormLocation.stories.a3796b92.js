var k=Object.defineProperty;var l=(n,o)=>k(n,"name",{value:o,configurable:!0});import{r as c,a as P,j as v}from"./jsx-runtime.931debec.js";import"./iframe.b8e5eea6.js";function C(){return C=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(n[u]=e[u])}return n},C.apply(this,arguments)}l(C,"_extends");var $=l(function(n){var o=c.exports.useRef(n);return o.current=n,o},"useLatest"),G=l(function(n,o){var e;return function(){for(var u=this,p=arguments.length,m=new Array(p),f=0;f<p;f++)m[f]=arguments[f];e!==null&&(clearTimeout(e),e=null),e=setTimeout(function(){return n.apply(u,m)},o)}},"_debounce"),z="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",H=l(function(o){var e=o===void 0?{}:o,u=e.requestOptions,p=e.debounce,m=p===void 0?200:p,f=e.cache,h=f===void 0?24*60*60:f,y=e.cacheKey,_=y===void 0?"upa":y,s=e.googleMaps,g=e.callbackName,x=e.defaultValue,F=x===void 0?"":x,A=e.initOnMount,M=A===void 0?!0:A,R=c.exports.useState(!1),D=R[0],E=R[1],N=c.exports.useState(F),j=N[0],q=N[1],V=c.exports.useState({loading:!1,status:"",data:[]}),B=V[0],b=V[1],L=c.exports.useRef(),I=$(u),O=$(s),w=c.exports.useCallback(function(){var t;if(!L.current){var a=window,r=a.google,i=O.current,d=(i==null?void 0:i.places)||(r==null||(t=r.maps)==null?void 0:t.places);if(!d){console.error(z);return}L.current=new d.AutocompleteService,E(!0)}},[O]),T=c.exports.useCallback(function(){b({loading:!1,status:"",data:[]})},[]),J=c.exports.useCallback(function(t){t===void 0&&(t=_);try{sessionStorage.removeItem(t)}catch{}},[_]),K=c.exports.useCallback(G(function(t){var a;if(!t){T();return}b(function(i){return C({},i,{loading:!0})});var r={};try{r=JSON.parse(sessionStorage.getItem(_)||"{}")}catch{}if(h&&(r=Object.keys(r).reduce(function(i,d){return r[d].maxAge-Date.now()>=0&&(i[d]=r[d]),i},{}),r[t])){b({loading:!1,status:"OK",data:r[t].data});return}(a=L.current)==null||a.getPlacePredictions(C({},I.current,{input:t}),function(i,d){if(b({loading:!1,status:d,data:i||[]}),h&&d==="OK"){r[t]={data:i,maxAge:Date.now()+h*1e3};try{sessionStorage.setItem(_,JSON.stringify(r))}catch{}}})},m),[h,_,T,I]),Y=c.exports.useCallback(function(t,a){a===void 0&&(a=!0),q(t),L.current&&a&&K(t)},[K]);return c.exports.useEffect(function(){if(!M)return function(){return null};var t=window,a=t.google;return!O.current&&!(a!=null&&a.maps)&&g?window[g]=w:w(),function(){window[g]&&delete window[g]}},[g,O,w,M]),{ready:D,value:j,suggestions:B,setValue:Y,clearSuggestions:T,clearCache:J,init:w}},"usePlacesAutocomplete");const S=l(({labelText:n,onChange:o})=>{const{value:e,suggestions:{status:u,data:p},setValue:m,clearSuggestions:f}=H(),h=l(s=>{m(s.target.value),o(s.target.value)},"handleInput"),y=l(({description:s})=>()=>{m(s,!1),o(s),f()},"handleSelect");return P("div",{children:[v("label",{children:n}),v("input",{className:"location-input",value:e,onChange:h}),u==="OK"&&v("ul",{children:l(()=>p.map(s=>{const{place_id:g,structured_formatting:{main_text:x,secondary_text:F}}=s;return console.log(s),v("div",{className:"autocomplete-suggestion",children:P("li",{className:"listing-format",onClick:y(s),children:[v("strong",{children:x})," ",v("small",{children:F})]},g)})}),"renderSuggestions")()})]})},"FormLocation");try{S.displayName="FormLocation",S.__docgenInfo={description:"",displayName:"FormLocation",props:{labelText:{defaultValue:null,description:"",name:"labelText",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/component/form/form-location/FormLocation.tsx#FormLocation"]={docgenInfo:S.__docgenInfo,name:"FormLocation",path:"src/component/form/form-location/FormLocation.tsx#FormLocation"})}catch{}const te={parameters:{storySource:{source:`import { ComponentMeta, ComponentStory } from '@storybook/react';

import { FormLocation } from '../component/form/form-location/FormLocation';

export default {
    title: 'Display/FormLocation',
    component: FormLocation,

} as ComponentMeta<typeof FormLocation>;

const Template: ComponentStory<typeof FormLocation> = (args) => <FormLocation {...args} />;

export const Default = Template.bind({});
Default.args = {
    labelText: 'location'
};
`,locationsMap:{default:{startLoc:{col:54,line:11},endLoc:{col:90,line:11},startBody:{col:54,line:11},endBody:{col:90,line:11}}}}},title:"Display/FormLocation",component:S},Q=l(n=>v(S,{...n}),"Template"),U=Q.bind({});U.args={labelText:"location"};const oe=["Default"];export{U as Default,oe as __namedExportsOrder,te as default};
//# sourceMappingURL=FormLocation.stories.a3796b92.js.map
